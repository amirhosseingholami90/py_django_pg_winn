<div>
    <div class="p-1" style="border: 2px solid lightgray">
        {% for tag in issue.tags.all %}
          <span class="mr-1">{{ tag.title }}
            <sup>
              <button class="badge badge-primary badge-pill js-tag-item-delete" 
                data-url="{% url 'itrac:issue_delete_tag' issue.pk tag.pk %}">X
              </button>
            </sup>
          </span>
        {% endfor %}
        <form action="#">
          <input class="issue-tag-input" id="issue-tag-input" type="text" placeholder="enter a tag" name="newtag" style="border: none">
        </form>
        suggestions:     
        <table>
          <tbody>
            {% for tag in tags %}
              <tr class="tags-item-tag" style="display:none;">
                <td><button class="btn, btn-sm" data-url="#">{{ tag.title }}</button></td>
              </tr>
            {% endfor %}
          </tbody>              
        </table>
    </div>
    <button type="submit" class="btn btn-sm btn-secondary btn-tag-edit-ok">Ok</button>
    <button type="cancel" class="btn btn-sm btn-secondary btn-tag-edit-cancel" 
        data-url="{% url 'itrac:partial_issue_tags_list' issue.id %}">Cancel
    </button>
</div>
<script>
    // Set up the filter for tag list 
    $("#issue-tag-input").on("keyup", () => {
        const input = document.getElementById("issue-tag-input");
        const filter = input.value.toUpperCase();

        const tags = document.getElementsByClassName("tags-item-tag");
        if (filter.length < 1) {
          for (let i = 0; i < tags.length; i++) {
            tags.item(i).style.display = "none";
          }
        } else {
          for (let i = 0; i < tags.length; i++) {
            let tag_item = tags.item(i);
            let tag_title = tags.item(i).firstElementChild;
            const txtValue = tag_title.textContent || tag_title.innerText;
            if (txtValue.toUpperCase().startsWith(filter)) {
              tag_item.style.display = "";
            } else {
              tag_item.style.display = "none";
            }
          }
        }
    })

</script>